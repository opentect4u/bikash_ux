<app-common-header [title]="'Edit Profile'"></app-common-header>
<ion-content>

  <div class="mainPanelProfile">
    <div class="logInCardHeader">
      <img src="../../../assets/Images/defaultUser.png"/>
      <ion-buttons class="editImage">
      <ion-button (click)="chooseImage()">
        <ion-icon name="create-outline" fill="clear" slot="icon-only"></ion-icon>
      </ion-button>
      </ion-buttons>
    </div>
    <div class="loginCardBody">
      <app-common-segment
       [galleryType]="'L'"
       (tabValue)="reset($event)"
       [tabLabel]="[{label:'Profile',value:'L'},{label:'Password',value:'R'}]">
      </app-common-segment>


      <div [ngSwitch]="galleryType" class="ion-margin-vertical">
        <ion-grid *ngSwitchCase="'R'">
          <form [formGroup]="password" (ngSubmit)="submitPassword('P')">
          <ion-row>
              <ion-col size="12">
                <ion-item>
                 <ion-label position="floating">Old Password</ion-label>
                 <ion-input
                 type="password"
                 formControlName="old_pass"></ion-input>
                 <ion-icon name="eye-outline" slot="end" color="primary"></ion-icon>
                </ion-item>
                <ion-label
                *ngIf="password.get('old_pass').invalid && (password.get('old_pass').dirty ||password.get('old_pass').touched)">
                <ion-note color="danger" *ngIf="(password.get('old_pass')).errors?.required">*Please Provide Old Password
                </ion-note>
              </ion-label>
               </ion-col>
               <ion-col size="12">
                 <ion-item>
                   <ion-label position="floating">New Password</ion-label>
                   <ion-input
                   type="password"
                   formControlName="new_pass"></ion-input>
                   <ion-icon name="eye-outline" slot="end" color="primary"></ion-icon>
                  </ion-item>
                  <ion-label
                  *ngIf="password.get('new_pass').invalid && (password.get('new_pass').dirty ||password.get('new_pass').touched)">
                  <ion-note color="danger" *ngIf="(password.get('new_pass')).errors?.required">*Please Provide New Password
                  </ion-note>
                  <ion-note color="danger" *ngIf="(password.get('new_pass')).errors?.pattern">
                    *password should contain at least one numeric digit
                     and a special character with minimum 7 characters
                  </ion-note>
                </ion-label>
               </ion-col>
               <ion-col size="12">
                 <ion-item>
                   <ion-label position="floating">Confirm Password</ion-label>
                   <ion-input
                   type="password"
                   formControlName="conf_pass"></ion-input>
                   <ion-icon name="eye-outline" slot="end" color="primary"></ion-icon>
                  </ion-item>
                  <ion-label
                  *ngIf="password.get('conf_pass').invalid && (password.get('conf_pass').dirty ||password.get('conf_pass').touched)">
                  <ion-note color="danger" *ngIf="(password.get('conf_pass')).errors?.required">*Please Provide Confirm Password
                  </ion-note>
                  <ion-note color="danger" *ngIf="(password.get('conf_pass')).errors?.mustMatch">New Password And Confirm
                    Password Must Match</ion-note>
                </ion-label>
               </ion-col>
               <ion-col size="12">
                <ion-button type="submit" [disabled]="password.invalid" expand="full" fill="solid" color="success">Update</ion-button>
            </ion-col>
          </ion-row>
        </form>
        </ion-grid>
        <ion-grid *ngSwitchCase="'L'">
          <form [formGroup]="profile" (ngSubmit)="submitPassword('A')">
            <ion-row>
              <ion-col size="12">
                <ion-item>
                  <ion-label position="floating">Name</ion-label>
                  <ion-input type="text" formControlName="user_name"></ion-input>
                  <ion-icon name="person-outline" slot="end" color="primary"></ion-icon>
                </ion-item>
                <ion-label
                *ngIf="profile.get('user_name').invalid && (profile.get('user_name').dirty ||profile.get('user_name').touched)">
                <ion-note color="danger" *ngIf="(profile.get('user_name')).errors?.required">*Please Provide Name
                </ion-note>
                <ion-note color="danger" *ngIf="(profile.get('user_name')).errors?.minlength">*minimum 4 character allowed
                </ion-note>
              </ion-label>
              </ion-col>
              <ion-col size="12">
                <ion-item>
                  <ion-label position="floating">Email</ion-label>
                  <ion-input type="email" (keydown.space)="$event.preventDefault();" formControlName="email_id"></ion-input>
                  <ion-icon name="mail-outline" slot="end" color="primary"></ion-icon>
                </ion-item>
                <ion-label
                *ngIf="profile.get('email_id').invalid && (profile.get('email_id').dirty ||profile.get('email_id').touched)">
                <ion-note color="danger" *ngIf="(profile.get('email_id')).errors?.email">*Please Provide Valid Email
                </ion-note>
              </ion-label>
              </ion-col>
              <ion-col size="12">
                  <ion-button type="submit" [disabled]="profile.invalid"  expand="full" fill="solid" color="success">Update</ion-button>
              </ion-col>
            </ion-row>
          </form>
        </ion-grid>
      </div>

    </div>
  </div>
</ion-content>
